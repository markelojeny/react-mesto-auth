{"ast":null,"code":"import _classCallCheck from\"/Users/markelojeny/Desktop/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/markelojeny/Desktop/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._url=config.url;this._headers=config.headers;}_createClass(Api,[{key:\"_handleResponse\",value:function _handleResponse(res){return res.ok?res.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0432 \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){var _this=this;return fetch(\"\".concat(this._url,\"/users/me\"),{headers:this._headers}).then(function(res){return _this._handleResponse(res);});}},{key:\"getInitialCards\",value:function getInitialCards(){var _this2=this;return fetch(\"\".concat(this._url,\"/cards\"),{headers:this._headers}).then(function(res){return _this2._handleResponse(res);});}},{key:\"addCard\",value:function addCard(_ref){var _this3=this;var placeName=_ref.placeName,placeLink=_ref.placeLink;return fetch(\"\".concat(this._url,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:placeName,link:placeLink})}).then(function(res){return _this3._handleResponse(res);});}},{key:\"editUser\",value:function editUser(_ref2){var _this4=this;var nickname=_ref2.nickname,about=_ref2.about;return fetch(\"\".concat(this._url,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:nickname,about:about})}).then(function(res){return _this4._handleResponse(res);});}},{key:\"addLike\",value:function addLike(cardId){var _this5=this;return fetch(\"\".concat(this._url,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:this._headers}).then(function(res){return _this5._handleResponse(res);});}},{key:\"deleteLike\",value:function deleteLike(cardId){var _this6=this;return fetch(\"\".concat(this._url,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:this._headers}).then(function(res){return _this6._handleResponse(res);});}},{key:\"deleteCard\",value:function deleteCard(id){var _this7=this;return fetch(\"\".concat(this._url,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(function(res){return _this7._handleResponse(res);});}},{key:\"changeAvatar\",value:function changeAvatar(_ref3){var _this8=this;var avatar=_ref3.avatar;return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(function(res){return _this8._handleResponse(res);});}}]);return Api;}();var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-62',headers:{authorization:'dee17758-01f3-41db-81d2-b39918f89271','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","config","_classCallCheck","_url","url","_headers","headers","_createClass","key","value","_handleResponse","res","ok","json","Promise","reject","concat","status","getUserInfo","_this","fetch","then","getInitialCards","_this2","addCard","_ref","_this3","placeName","placeLink","method","body","JSON","stringify","name","link","editUser","_ref2","_this4","nickname","about","addLike","cardId","_this5","deleteLike","_this6","deleteCard","id","_this7","changeAvatar","_ref3","_this8","avatar","api","authorization"],"sources":["/Users/markelojeny/Desktop/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    _handleResponse (res) {\n      return res.ok\n        ? res.json()\n        : Promise.reject(`Ошибка в ${res.status}`);\n    }\n    \n    getUserInfo() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: this._headers\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n    \n    addCard({ placeName, placeLink }) {\n        return fetch(`${this._url}/cards`, {\n          method: 'POST',\n          headers: this._headers,\n          body: JSON.stringify({\n            name: placeName,\n            link: placeLink\n          })\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n\n    editUser({ nickname, about }) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n              name: nickname,\n              about: about\n            })\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n    \n    addLike(cardId) {\n        return fetch(`${this._url}/cards/${cardId}/likes`, {\n          method: 'PUT',\n          headers: this._headers,\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n\n    deleteLike(cardId) {\n        return fetch(`${this._url}/cards/${cardId}/likes`, {\n          method: 'DELETE',\n          headers: this._headers,\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n  }\n    \n    deleteCard(id) {\n        return fetch(`${this._url}/cards/${id}`, {\n          method: 'DELETE',\n          headers: this._headers,\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n    \n    changeAvatar({ avatar }) {\n        return fetch(`${this._url}/users/me/avatar`, {\n          method: 'PATCH',\n          headers: this._headers,\n          body: JSON.stringify({\n            avatar: avatar\n          })\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n} \n\nconst api = new Api ({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-62',\n  headers: {\n    authorization: 'dee17758-01f3-41db-81d2-b39918f89271',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}