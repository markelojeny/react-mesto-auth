{"ast":null,"code":"class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n  _handleResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка в ${res.status}`);\n  }\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(res => {\n      return this._handleResponse(res);\n    });\n  }\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(res => {\n      return this._handleResponse(res);\n    });\n  }\n  addCard(_ref) {\n    let {\n      placeName,\n      placeLink\n    } = _ref;\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: placeName,\n        link: placeLink\n      })\n    }).then(res => {\n      return this._handleResponse(res);\n    });\n  }\n  editUser(_ref2) {\n    let {\n      nickname,\n      about\n    } = _ref2;\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: nickname,\n        about: about\n      })\n    }).then(res => {\n      return this._handleResponse(res);\n    });\n  }\n  addLike(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(res => {\n      return this._handleResponse(res);\n    });\n  }\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      return this._handleResponse(res);\n    });\n  }\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => {\n      return this._handleResponse(res);\n    });\n  }\n  changeAvatar(_ref3) {\n    let {\n      avatar\n    } = _ref3;\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(res => {\n      return this._handleResponse(res);\n    });\n  }\n}\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-62',\n  headers: {\n    authorization: 'dee17758-01f3-41db-81d2-b39918f89271',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","config","_url","url","_headers","headers","_handleResponse","res","ok","json","Promise","reject","status","getUserInfo","fetch","then","getInitialCards","addCard","_ref","placeName","placeLink","method","body","JSON","stringify","name","link","editUser","_ref2","nickname","about","addLike","cardId","deleteLike","deleteCard","id","changeAvatar","_ref3","avatar","api","authorization"],"sources":["/Users/markelojeny/Desktop/dev2/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    _handleResponse (res) {\n      return res.ok\n        ? res.json()\n        : Promise.reject(`Ошибка в ${res.status}`);\n    }\n    \n    getUserInfo() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: this._headers\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n    \n    addCard({ placeName, placeLink }) {\n        return fetch(`${this._url}/cards`, {\n          method: 'POST',\n          headers: this._headers,\n          body: JSON.stringify({\n            name: placeName,\n            link: placeLink\n          })\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n\n    editUser({ nickname, about }) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n              name: nickname,\n              about: about\n            })\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n    \n    addLike(cardId) {\n        return fetch(`${this._url}/cards/${cardId}/likes`, {\n          method: 'PUT',\n          headers: this._headers,\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n\n    deleteLike(cardId) {\n        return fetch(`${this._url}/cards/${cardId}/likes`, {\n          method: 'DELETE',\n          headers: this._headers,\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n  }\n    \n    deleteCard(id) {\n        return fetch(`${this._url}/cards/${id}`, {\n          method: 'DELETE',\n          headers: this._headers,\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n    \n    changeAvatar({ avatar }) {\n        return fetch(`${this._url}/users/me/avatar`, {\n          method: 'PATCH',\n          headers: this._headers,\n          body: JSON.stringify({\n            avatar: avatar\n          })\n        })\n        .then((res) => {\n          return this._handleResponse(res)\n        });\n    }\n} \n\nconst api = new Api ({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-62',\n  headers: {\n    authorization: 'dee17758-01f3-41db-81d2-b39918f89271',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}